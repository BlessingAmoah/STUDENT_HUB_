{"ast":null,"code":"var _jsxFileName = \"/Users/blessing/MetaU2024/Student-Hub/Frontend/student-hub/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Container, Grid, TextField, Button } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  //handles the submit when logged in.\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    try {\n      const response = await fetch('http://localhost:8080/auth/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email,\n          password\n        })\n      });\n\n      // checks if the log-in details are correct\n      // if correct navigate to the dashboard\n      if (response.ok) {\n        const data = await response.json();\n        sessionStorage.setItem('token', data.token);\n        navigate('/dashboard');\n      } else {\n        const {\n          error\n        } = await response.json();\n        setError(error);\n      }\n    } catch (error) {\n      console.error('Login failed:', error);\n      setError('Login failed. Please try again.');\n    }\n  };\n\n  // rendering state\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      alignItems: \"center\",\n      justify: \"center\",\n      style: {\n        minHeight: '80vh'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \" Please Login Into Your Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                type: \"email\",\n                label: \"Email\",\n                variant: \"outlined\",\n                value: email,\n                onChange: e => setEmail(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                type: \"password\",\n                label: \"Password\",\n                variant: \"outlined\",\n                value: password,\n                onChange: e => setPassword(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                variant: \"contained\",\n                color: \"primary\",\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 19\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 17\n  }, this);\n}\n_s(Login, \"04s5JR+/x8JdloJ2sm+29L/IvyI=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","Container","Grid","TextField","Button","jsxDEV","_jsxDEV","Login","_s","email","setEmail","password","setPassword","error","setError","navigate","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","data","json","sessionStorage","setItem","token","console","maxWidth","children","container","spacing","alignItems","justify","style","minHeight","item","xs","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","fullWidth","type","label","variant","value","onChange","target","required","color","_c","$RefreshReg$"],"sources":["/Users/blessing/MetaU2024/Student-Hub/Frontend/student-hub/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Container, Grid, TextField, Button } from '@mui/material';\n\n\nfunction Login() {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n    const navigate = useNavigate();\n\n    //handles the submit when logged in.\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError('');\n\n        try{\n            const response = await fetch('http://localhost:8080/auth/login',{\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ email, password }),\n            });\n\n            // checks if the log-in details are correct\n            // if correct navigate to the dashboard\n            if (response.ok) {\n                const data = await response.json();\n                sessionStorage.setItem('token', data.token);\n                navigate('/dashboard');\n              } else {\n                const { error } = await response.json();\n                setError(error);\n              }\n            } catch (error) {\n                console.error('Login failed:', error);\n                setError('Login failed. Please try again.');\n              }\n            };\n\n            // rendering state\n            return (\n                <Container maxWidth=\"sm\">\n                  <Grid container spacing={2} alignItems=\"center\" justify=\"center\" style={{ minHeight: '80vh' }}>\n                    <Grid item xs={12}>\n                      <h2> Please Login Into Your Account</h2>\n                    </Grid>\n                    <Grid item xs={12}>\n                      <form onSubmit={handleSubmit}>\n                        <Grid container spacing={2}>\n                          <Grid item xs={12}>\n                            <TextField\n                              fullWidth\n                              type=\"email\"\n                              label=\"Email\"\n                              variant=\"outlined\"\n                              value={email}\n                              onChange={(e) => setEmail(e.target.value)}\n                              required\n                            />\n                          </Grid>\n                          <Grid item xs={12}>\n                            <TextField\n                              fullWidth\n                              type=\"password\"\n                              label=\"Password\"\n                              variant=\"outlined\"\n                              value={password}\n                              onChange={(e) => setPassword(e.target.value)}\n                              required\n                            />\n                          </Grid>\n                          <Grid item xs={12}>\n                            <Button type=\"submit\" variant=\"contained\" color=\"primary\">Login</Button>\n                          </Grid>\n                        </Grid>\n                      </form>\n                    </Grid>\n                    {error && (\n                      <Grid item xs={12}>\n                        <p style={{ color: 'red' }}>{error}</p>\n                      </Grid>\n                    )}\n                  </Grid>\n                </Container>\n              );\n            }\n\n            export default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}